<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Guide - Eymistaken's HUD</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Prism.js Syntax Highlighting Theme (Okaidia - resembles One Dark) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" rel="stylesheet" />
    <style>
        /* Developer Ergonomics Theme Override for API Guide */
        body {
            background-color: #282c34;
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
            background-size: 40px 40px;
            color: #abb2bf;
        }

        .glass {
            background: rgba(33, 37, 43, 0.8);
            /* Darker, solid-ish background for cards */
            border-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
        }

        .glass::before {
            display: none;
            /* Remove side glow line */
        }

        h1,
        h2,
        h3,
        h4 {
            color: #e06c75;
            /* Soft red/pink for headings */
            text-shadow: none;
            letter-spacing: 1px;
        }

        h2::after {
            background: #c678dd;
            /* Soft purple underline */
            box-shadow: none;
        }

        header h1 {
            color: #61afef;
            /* Blue header */
            text-shadow: none;
        }

        header {
            background-color: rgba(40, 44, 52, 0.95);
            background-image: none;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        nav a {
            color: #abb2bf;
            text-shadow: none;
        }

        nav a:hover,
        nav a.active {
            color: #98c379;
            /* Soft green */
            text-shadow: none;
        }

        nav a.active::after {
            background: #98c379;
            box-shadow: none;
        }

        p {
            color: #abb2bf;
        }

        a,
        a:hover {
            color: #61afef;
            text-shadow: none;
        }

        /* Override callouts */
        .callout {
            background-color: rgba(229, 192, 123, 0.1);
            border-left-color: #e5c07b;
        }

        .callout::before {
            color: #e5c07b;
            border-color: #e5c07b;
            box-shadow: none;
            background: #282c34;
        }

        .callout.warning {
            background-color: rgba(224, 108, 117, 0.1);
            border-left-color: #e06c75;
        }

        .callout.warning::before {
            color: #e06c75;
            border-color: #e06c75;
            box-shadow: none;
        }

        footer {
            background: #21252b;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: none;
        }
    </style>
</head>

<body>
    <header class="glass">
        <h1>Eymistaken's HUD</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="user-guide.html">User Guide</a></li>
                <li><a href="api-guide.html" class="active">API Guide</a></li>
                <li><a href="downloads.html">Downloads</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h2 class="stagger-reveal" style="animation-delay: 0.1s;">Developer API Guide</h2>
        <p class="stagger-reveal" style="animation-delay: 0.2s;">Eymistaken's HUD 1.21.11 was engineered with extensive
            modularity in mind. Through the
            <code>EymistakenHudPlugin</code> API, developers can inject their own custom modules seamlessly into the HUD
            rendering and ticking engines without modifying the core mod directly.
        </p>

        <section id="architecture" class="glass stagger-reveal"
            style="animation-delay: 0.3s; padding: 2rem; margin-top: 2rem;">
            <h3>Modular Architecture</h3>
            <p>The entire HUD system is orchestrated by the <code>HudModuleManager</code>. When the game launches, it
                registers the core modules. Thanks to Fabric Entrypoints, you can register secondary plugins loaded from
                dependent mods.</p>
        </section>

        <section id="dependency" class="glass stagger-reveal"
            style="animation-delay: 0.4s; padding: 2rem; margin-top: 2rem;">
            <h3>Adding the Dependency</h3>
            <p>To access the API classes and compile your mod against Eymistaken's HUD, you can easily use
                <strong>JitPack</strong>. Just add the following lines to your <code>build.gradle</code> file:
            </p>

            <pre class="keep-markup"><code class="language-groovy">repositories {
    maven { url 'https://jitpack.io' }
}

dependencies {
    modImplementation 'com.github.Eymistaken:Eymistaken-s-HUD:<a href="https://github.com/Eymistaken/Eymistaken-s-HUD/releases/latest" target="_blank" id="dynamic-version" style="color: #98c379; font-weight: 700; text-decoration: underline; background: rgba(152, 195, 121, 0.15); padding: 0 4px; border-radius: 4px;" title="View Latest Release">v1.0.9-1</a>' 
}</code></pre>
            <p>Once you reload your gradle project, all API classes like <code>HudModule</code> will be available in
                your development environment.</p>
        </section>

        <section id="implementing-module" class="glass stagger-reveal"
            style="animation-delay: 0.5s; padding: 2rem; margin-top: 2rem;">
            <h3>Creating a Custom Module</h3>
            <p>Every element displayed on the screen is required to inherit from the base <code>HudModule</code> class
                overriding its methods. Here is everything you need to implement:</p>

            <pre><code class="language-java">import com.eymistaken.simplecps.api.HudModule;
import com.eymistaken.simplecps.SimpleCPSConfig;
import net.minecraft.client.gui.DrawContext;

public class MyCustomModule extends HudModule {

    @Override
    public String getName() {
        return "My Custom Tracker";
    }

    @Override
    public SimpleCPSConfig.Position getPositionType() {
        return SimpleCPSConfig.Position.TOP_LEFT; // Default corner alignment
    }

    @Override
    public int getXOffset() {
        return 0; // Relative pixel offset (X)
    }

    @Override
    public int getYOffset() {
        return 0; // Relative pixel offset (Y)
    }

    @Override
    public boolean isEnabled() {
        // Tie this to your config integration
        return true; 
    }

    @Override
    public int getWidth() {
        return 100; // Provide dimensions securely for the staking layout
    }

    @Override
    public int getHeight() {
        return 20; 
    }

    @Override
    public void render(DrawContext context, float tickDelta) {
        // The context is automatically correctly positioned (using this.x and this.y variables set via the manager).
        context.drawTextWithShadow(this.client.textRenderer, "Hello World", this.x, this.y, 0xFFFFFF);
    }
    
    @Override
    public void tick(MinecraftClient client) {
        // Optional logic executed every client tick (e.g. calculation timers).
        super.tick(client);
    }
}</code></pre>

            <div class="callout warning">
                <p><strong>Note:</strong> Ensure you accurately report <code>getWidth()</code> and
                    <code>getHeight()</code>. Returning 0 bypasses layout integration calculations, hiding your module.
                </p>
            </div>
        </section>

        <section id="editor-integration" class="glass stagger-reveal"
            style="animation-delay: 0.6s; padding: 2rem; margin-top: 2rem;">
            <h3>HUD Editor Integration (Drag & Drop)</h3>
            <p>To allow users to drag, drop, scale, and reset your custom module using the in-game HUD Editor, you must
                override the optional setter methods. <strong>Crucial:</strong> You must save these provided values to
                your <em>own mod's configuration file</em>, not to SimpleCPSConfig!</p>

            <pre><code class="language-java">import com.eymistaken.simplecps.SimpleCPSConfig;

// Inside your MyCustomModule class:

@Override
public void setPositionType(SimpleCPSConfig.Position pos) {
    MyAddonConfig.anchor = pos; // Save to YOUR config
}

@Override
public void setXOffset(int x) {
    MyAddonConfig.xOffset = x; 
}

@Override
public void setYOffset(int y) {
    MyAddonConfig.yOffset = y; 
}

@Override
public void setScale(int scale) {
    MyAddonConfig.scale = scale; 
}

@Override
public int getScale() {
    return MyAddonConfig.scale; // Return from YOUR config
}

@Override
public void resetToDefaults() {
    // Called when the user right-clicks your module in the editor
    MyAddonConfig.anchor = SimpleCPSConfig.Position.TOP_LEFT;
    MyAddonConfig.xOffset = 0;
    MyAddonConfig.yOffset = 0;
    MyAddonConfig.scale = 100;
}</code></pre>

            <div class="callout warning" style="margin-top: 1rem;">
                <p><strong>Remember:</strong> If you do not override these methods, your module will still render
                    perfectly, but players will not be able to move or scale it via the HUD Editor.</p>
            </div>
        </section>

        <section id="registering-plugin" class="glass stagger-reveal"
            style="animation-delay: 0.7s; padding: 2rem; margin-top: 2rem;">
            <h3>Registering the Plugin</h3>
            <p>To register your modules, you must expose an entrypoint implementing the <code>EymistakenHudPlugin</code>
                interface inside your fabric.mod.json configuration.</p>

            <p>Implementation class:</p>
            <pre><code class="language-java">import com.eymistaken.simplecps.api.EymistakenHudPlugin;
import com.eymistaken.simplecps.HudModuleManager;

public class MyPluginInit implements EymistakenHudPlugin {
    @Override
    public void registerHudModules(HudModuleManager manager) {
        manager.registerModule(new MyCustomModule());
    }
}</code></pre>

            <p><code>fabric.mod.json</code> setup:</p>
            <pre><code class="language-json">"entrypoints": {
  "eymistaken_hud": [
    "com.myname.myaddon.MyPluginInit"
  ]
}</code></pre>
            <p>By using the `eymistaken_hud` entrypoint key, your modules will safely initialize alongside the core
                system inside <code>SimpleCPSClient</code> automatically.</p>
        </section>

    </main>

    <footer class="glass">
        <p>&copy; 2026 <a href="https://linktr.ee/Eymistaken" target="_blank"
                style="color: var(--accent); text-decoration: none; font-weight: 600; text-shadow: none;">Eymistaken</a>.
            Documentation for Version 1.21.11.</p>
    </footer>

    <script src="js/scripts.js"></script>
    <!-- Prism.js Core & Languages -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-groovy.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <!-- Prism Keep Markup Plugin to preserve custom links inside code blocks -->
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/keep-markup/prism-keep-markup.min.js"></script>
</body>

</html>